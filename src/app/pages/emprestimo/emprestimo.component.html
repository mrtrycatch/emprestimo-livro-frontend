<div class="container mt-5">
  <h2>Empréstimo</h2>
  <hr />
  <div class="row mt-4">
    <div class="col-md-6">
      <h4>Selecionar o cliente</h4>
      <div class="input-group mb-3">
        <input
          type="text"
          class="form-control"
          placeholder="Pesquisar cliente"
          [(ngModel)]="consultaCliente"
        />
        <button
          (click)="abrirConsultaCliente()"
          class="btn btn-outline-secondary"
          type="button"
        >
          <i class="fa fa-search"></i>
        </button>
      </div>
      <app-info-cliente
        *ngIf="cliente"
        [exibeLixeira]="true"
        [cliente]="cliente"
        (clickButton)="removerCliente()"
      ></app-info-cliente>
      <div *ngIf="cliente">
        <label for="dataEntrega">Data de entrega</label>
        <input
          id="dataEntrega"
          [(ngModel)]="dataEntrega"
          class="form-control"
          type="date"
        />
        <div *ngIf="emprestimo" class="form-check">
          <label for="entregue" class="form-check-label"> Entregue </label>
          <input
            class="form-check-input"
            type="checkbox"
            id="entregue"
            [(ngModel)]="entregue"
          />
        </div>
      </div>
    </div>
    <div class="col-md-6 mb-4">
      <h4>Selecionar Livros</h4>
      <div class="input-group mb-3">
        <input
          type="text"
          class="form-control"
          placeholder="Pesquisar livro"
          [(ngModel)]="consultaLivro"
        />
        <button
          (click)="abrirConsultaLivro()"
          class="btn btn-outline-secondary"
          type="button"
        >
          <i class="fa fa-search"></i>
        </button>
      </div>
      <div class="scrollable">
        <app-info-livro
          [exibeLixeira]="true"
          *ngFor="let livro of livros"
          (clickButton)="removerLivro(livro.id)"
          [livro]="livro"
        ></app-info-livro>
      </div>
    </div>
  </div>
  <div class="row mt-4 mb-4">
    <div class="col-12">
      <button
        (click)="emprestimo ? alterarEmprestimo() : adicionarEmprestimo()"
        [disabled]="!cliente || !dataEntrega || livros.length == 0"
        class="btn btn-success me-2"
      >
        {{ emprestimo ? "Alterar" : "Confirmar" }} empréstimo
      </button>
      <button class="btn btn-secondary">Cancelar</button>
    </div>
  </div>
</div>
